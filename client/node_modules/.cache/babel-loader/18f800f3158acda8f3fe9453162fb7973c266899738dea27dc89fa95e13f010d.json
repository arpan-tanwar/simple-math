{"ast":null,"code":"import r, { memo as e, useState as n, useEffect as t } from \"react\";\nimport o from \"katex\";\nfunction a() {\n  return (a = Object.assign || function (r) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = arguments[e];\n      for (var t in n) Object.prototype.hasOwnProperty.call(n, t) && (r[t] = n[t]);\n    }\n    return r;\n  }).apply(this, arguments);\n}\nvar i = e(function (e) {\n  var i = e.children,\n    l = e.math,\n    s = e.block,\n    c = e.errorColor,\n    f = e.renderError,\n    m = e.settings,\n    u = e.as,\n    h = function (r, e) {\n      if (null == r) return {};\n      var n,\n        t,\n        o = {},\n        a = Object.keys(r);\n      for (t = 0; t < a.length; t++) e.indexOf(n = a[t]) >= 0 || (o[n] = r[n]);\n      return o;\n    }(e, [\"children\", \"math\", \"block\", \"errorColor\", \"renderError\", \"settings\", \"as\"]),\n    d = u || (s ? \"div\" : \"span\"),\n    p = null != i ? i : l,\n    g = n({\n      innerHtml: \"\"\n    }),\n    E = g[0],\n    v = g[1];\n  return t(function () {\n    try {\n      var r = o.renderToString(p, a({\n        displayMode: !!s,\n        errorColor: c,\n        throwOnError: !!f\n      }, m));\n      v({\n        innerHtml: r\n      });\n    } catch (r) {\n      if (!(r instanceof o.ParseError || r instanceof TypeError)) throw r;\n      v(f ? {\n        errorElement: f(r)\n      } : {\n        innerHtml: r.message\n      });\n    }\n  }, [s, p, c, f, m]), \"errorElement\" in E ? E.errorElement : r.createElement(d, Object.assign({}, h, {\n    dangerouslySetInnerHTML: {\n      __html: E.innerHtml\n    }\n  }));\n});\nexport default i;","map":{"version":3,"names":["i","e","children","l","math","s","block","c","errorColor","f","renderError","m","settings","u","as","h","r","n","t","o","a","Object","keys","length","indexOf","d","p","g","innerHtml","E","v","renderToString","displayMode","throwOnError","ParseError","TypeError","errorElement","message","createElement","assign","dangerouslySetInnerHTML","__html"],"sources":["/Users/arpan/Documents/GitHub/simple-math/client/node_modules/@matejmazur/react-katex/src/index.tsx"],"sourcesContent":["import React, {\n  ComponentPropsWithoutRef,\n  useState,\n  useEffect,\n  ReactElement,\n  ElementType,\n  memo,\n} from 'react';\nimport KaTeX, { ParseError, KatexOptions } from 'katex';\n\nconst TeX: React.FC<TeXProps> = ({\n  children,\n  math,\n  block,\n  errorColor,\n  renderError,\n  settings,\n  as: asComponent,\n  ...props\n}) => {\n  const Component = asComponent || (block ? 'div' : 'span');\n  const content = (children ?? math) as string;\n  const [state, setState] = useState<\n    { innerHtml: string } | { errorElement: React.ReactElement }\n  >({ innerHtml: '' });\n\n  useEffect(() => {\n    try {\n      const innerHtml = KaTeX.renderToString(content, {\n        displayMode: !!block,\n        errorColor,\n        throwOnError: !!renderError,\n        ...settings,\n      });\n\n      setState({ innerHtml });\n    } catch (error) {\n      if (error instanceof KaTeX.ParseError || error instanceof TypeError) {\n        if (renderError) {\n          setState({ errorElement: renderError(error) });\n        } else {\n          setState({ innerHtml: error.message });\n        }\n      } else {\n        throw error;\n      }\n    }\n  }, [block, content, errorColor, renderError, settings]);\n\n  if ('errorElement' in state) {\n    return state.errorElement;\n  }\n\n  return (\n    <Component\n      {...props}\n      dangerouslySetInnerHTML={{ __html: state.innerHtml }}\n    />\n  );\n};\n\nexport default memo(TeX);\n\ntype TeXProps = ComponentPropsWithoutRef<'div'> &\n  Partial<{\n    as: ElementType;\n    math: string | number;\n    block: boolean;\n    errorColor: string;\n    renderError: (error: ParseError | TypeError) => ReactElement;\n    settings: KatexOptions;\n  }>;\n"],"mappings":";;;;;;;;;;;AAUA,IAAAA,CAAA,GAmDeC,CAAA,CAnDiB,UAAAA,CAAA;EAAA,IAC9BD,CAAA,GAAAC,CAAA,CAAAC,QAAA;IACAC,CAAA,GAAAF,CAAA,CAAAG,IAAA;IACAC,CAAA,GAAAJ,CAAA,CAAAK,KAAA;IACAC,CAAA,GAAAN,CAAA,CAAAO,UAAA;IACAC,CAAA,GAAAR,CAAA,CAAAS,WAAA;IACAC,CAAA,GAAAV,CAAA,CAAAW,QAAA;IACIC,CAAA,GAAAZ,CAAA,CAAJa,EAAA;IACGC,CAAA,aAAAC,CAAA,EAAAf,CAAA;MAAA,YAAAe,CAAA;MAAA,IAAAC,CAAA;QAAAC,CAAA;QAAAC,CAAA;QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAN,CAAA;MAAA,KAAAE,CAAA,MAAAA,CAAA,GAAAE,CAAA,CAAAG,MAAA,EAAAL,CAAA,IAAAjB,CAAA,CAAAuB,OAAA,CAAAP,CAAA,GAAAG,CAAA,CAAAF,CAAA,YAAAC,CAAA,CAAAF,CAAA,IAAAD,CAAA,CAAAC,CAAA;MAAA,OAAAE,CAAA;IAAA,EAAAlB,CAAA;IAEGwB,CAAA,GAAYZ,CAAA,KAAgBR,CAAA,GAAQ,QAAQ;IAC5CqB,CAAA,WAAW1B,CAAA,GAAAA,CAAA,GAAYG,CAAA;IAAAwB,CAAA,GACHV,CAAA,CAExB;MAAEW,SAAA,EAAW;IAAA;IAFRC,CAAA,GAAAF,CAAA;IAAOG,CAAA,GAAAH,CAAA;EA2Bd,OAvBAT,CAAA,CAAU;IACR;MACE,IAAMF,CAAA,GAAYG,CAAA,CAAMY,cAAA,CAAeL,CAAA,EAAAN,CAAA;QACrCY,WAAA,IAAe3B,CAAA;QACfG,UAAA,EAAAD,CAAA;QACA0B,YAAA,IAAgBxB;MAAA,GACbE,CAAA;MAGLmB,CAAA,CAAS;QAAEF,SAAA,EAAAZ;MAAA;IAAA,CACX,QAAOA,CAAA;MACP,MAAIA,CAAA,YAAiBG,CAAA,CAAMe,UAAA,IAAclB,CAAA,YAAiBmB,SAAA,GAOxD,MAAMnB,CAAA;MALJc,CAAA,CADErB,CAAA,GACO;QAAE2B,YAAA,EAAc3B,CAAA,CAAYO,CAAA;MAAA,IAE5B;QAAEY,SAAA,EAAWZ,CAAA,CAAMqB;MAAA;IAAA;EAAA,GAMjC,CAAChC,CAAA,EAAOqB,CAAA,EAASnB,CAAA,EAAYE,CAAA,EAAaE,CAAA,IAEzC,kBAAkBkB,CAAA,GACbA,CAAA,CAAMO,YAAA,GAIbpB,CAAA,CAAAsB,aAAA,CAACb,CAAA,EAAAJ,MAAA,CAAAkB,MAAA,KACKxB,CAAA;IACJyB,uBAAA,EAAyB;MAAEC,MAAA,EAAQZ,CAAA,CAAMD;IAAA;EAAA;AAAA;AAAA,eAAA5B,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}